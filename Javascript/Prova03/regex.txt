# 祷 Guia Definitivo: Regex e DOM em JavaScript

Este documento serve como consulta rﾃ｡pida para provas, cobrindo sintaxe de Regex, mﾃｩtodos principais e manipulaﾃｧﾃ｣o do DOM.

---

## 1. Criando Expressﾃｵes Regulares

### Sintaxe Literal (Recomendada)
Usada quando o padrﾃ｣o ﾃｩ fixo.
```javascript
const regex = /padrao/flags;

Sintaxe Construtor

Usada quando o padrﾃ｣o vem de uma variﾃ｡vel (dinﾃ｢mico).
JavaScript

const regex = new RegExp("padrao", "flags");

Flags (Modificadores)
Flag	Nome	Efeito
g	Global	Busca todas as ocorrﾃｪncias (nﾃ｣o para na primeira).
i	Case Insensitive	Ignora maiﾃｺsculas/minﾃｺsculas.
m	Multiline	^ e $ funcionam linha a linha.
2. Cheat Sheet de Sintaxe
Classes de Caracteres
Sﾃｭmbolo	Seleciona
.	Qualquer caractere (exceto quebra de linha).
\d	Qualquer dﾃｭgito [0-9].
\D	Qualquer Nﾃグ dﾃｭgito.
\w	Alfanumﾃｩrico [A-Za-z0-9_].
\W	Nﾃ｣o alfanumﾃｩrico (sﾃｭmbolos, espaﾃｧos).
\s	Espaﾃｧo em branco (tab, espaﾃｧo, enter).
[abc]	Lista: apenas a, b ou c.
[^abc]	Negaﾃｧﾃ｣o: tudo EXCETO a, b ou c.
Quantificadores
Sﾃｭmbolo	Quantidade	Descriﾃｧﾃ｣o
*	0 ou mais	Opcional, repetﾃｭvel.
+	1 ou mais	Obrigatﾃｳrio.
?	0 ou 1	Opcional (existe ou nﾃ｣o).
{n}	Exatamente n	Ex: \d{3} (3 dﾃｭgitos).
{n,}	n ou mais	Ex: \d{5,} (5 ou mais).
{n,m}	De n atﾃｩ m	Ex: \d{2,4} (entre 2 e 4).
ﾃＯcoras e Lﾃｳgica
Sﾃｭmbolo	Funﾃｧﾃ｣o
^	Inﾃｭcio da string.
$	Fim da string.
`	`
( )	Grupo de captura.
\	Escape (ex: \. para buscar um ponto real).
3. Mﾃｩtodos Essenciais (JavaScript)
No Objeto RegExp

    regex.test(string) 検 Essencial para Validaﾃｧﾃ｣o

        Retorna true ou false.

        Uso: Validaﾃｧﾃ｣o dentro de if/else.

    regex.exec(string)

        Retorna Array com detalhes da captura ou null.

No Objeto String

    string.match(regex)

        Retorna array das ocorrﾃｪncias encontradas.

    string.replace(regex, novoValor)

        Substitui trechos do texto.

        Ex: str.replace(/\D/g, "") (Remove tudo que nﾃ｣o ﾃｩ nﾃｺmero).

    string.split(regex)

        Quebra a string usando o padrﾃ｣o como delimitador.

4. Snippets "Salva-Vidas" (Casos de Uso)

Data (DD/MM/AAAA)
JavaScript

const regexData = /^\d{2}\/\d{2}\/\d{4}$/;

CPF (Formato 000.000.000-00)
JavaScript

const regexCPF = /^\d{3}\.\d{3}\.\d{3}-\d{2}$/;

Email Simples (Para Provas)
JavaScript

const regexEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

Senha Forte Requisito: Mﾃｭnimo 8 chars, 1 maiﾃｺscula, 1 nﾃｺmero.
JavaScript

const regexSenha = /^(?=.*[A-Z])(?=.*\d).{8,}$/;

5. Manipulaﾃｧﾃ｣o de DOM (Passo a Passo)

Use esta estrutura padrﾃ｣o para exercﾃｭcios que pedem "valide o input ao clicar no botﾃ｣o".
1. O HTML Exemplo
HTML

<form>
    <label for="campoInput">Digite seu CPF:</label>
    <input type="text" id="campoInput" placeholder="000.000.000-00">
    <span id="msgFeedback" style="display:none; color: red;">Formato Invﾃ｡lido</span>
    <button id="btnValidar">Verificar</button>
</form>

2. O Script de Validaﾃｧﾃ｣o
JavaScript

document.addEventListener('DOMContentLoaded', () => {
    // A. Seleﾃｧﾃ｣o de Elementos
    const input = document.getElementById('campoInput');
    const btn = document.getElementById('btnValidar');
    const feedback = document.getElementById('msgFeedback');

    // B. Definiﾃｧﾃ｣o do Padrﾃ｣o (Ex: CPF)
    const regex = /^\d{3}\.\d{3}\.\d{3}-\d{2}$/;

    // C. Adicionar Evento de Clique
    btn.addEventListener('click', function(e) {
        // Evita recarregar a pﾃ｡gina se estiver dentro de <form>
        e.preventDefault(); 

        // D. Captura do Valor
        const valorDigitado = input.value;

        // E. Lﾃｳgica de Teste
        if (regex.test(valorDigitado)) {
            // SUCESSO
            input.style.border = "2px solid green";
            feedback.innerText = "CPF Vﾃ｡lido!";
            feedback.style.color = "green";
            feedback.style.display = "block";
        } else {
            // ERRO
            input.style.border = "2px solid red";
            feedback.innerText = "CPF Invﾃ｡lido. Use o formato 000.000.000-00";
            feedback.style.color = "red";
            feedback.style.display = "block";
        }
    });
});


Exemplo 

Aqui estﾃ｡ um Simulado Prﾃ｡tico completo. Tente entender o enunciado antes de olhar a soluﾃｧﾃ｣o, pois ﾃｩ exatamente assim que costuma cair em provas.
統 Simulado de Prova: Validaﾃｧﾃ｣o de Cadastro
O Enunciado (A Questﾃ｣o)

Vocﾃｪ deve criar uma validaﾃｧﾃ｣o para um formulﾃ｡rio de cadastro de usuﾃ｡rio contendo Nome, Email e Senha.

Requisitos:

    HTML: Crie 3 campos de input e 1 botﾃ｣o de "Cadastrar".

    JavaScript: Ao clicar no botﾃ｣o, valide os dados com as seguintes regras:

        Nome: Deve conter apenas letras e espaﾃｧos (sem nﾃｺmeros ou sﾃｭmbolos).

        Email: Deve ser um email vﾃ｡lido padrﾃ｣o.

        Senha: Deve ter no mﾃｭnimo 8 caracteres e conter pelo menos 1 nﾃｺmero.

    Feedback: Se algum campo estiver invﾃ｡lido, altere a borda dele para vermelho. Se estiver vﾃ｡lido, altere para verde. Exiba um alert de "Sucesso" apenas se todos estiverem corretos.

A Soluﾃｧﾃ｣o (Cﾃｳdigo Completo)

Vocﾃｪ pode copiar e colar este cﾃｳdigo em um arquivo .html para testar no navegador.
HTML

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Prova Prﾃ｡tica Regex</title>
    <style>
        /* CSS Bﾃ｡sico apenas para visualizaﾃｧﾃ｣o */
        body { font-family: sans-serif; padding: 20px; }
        .campo { margin-bottom: 15px; }
        input { padding: 8px; border: 1px solid #ccc; width: 250px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
    </style>
</head>
<body>

    <h2>Cadastro de Usuﾃ｡rio</h2>
    <form>
        <div class="campo">
            <label for="nome">Nome Completo:</label>
            <input type="text" id="nome" placeholder="Apenas letras">
        </div>

        <div class="campo">
            <label for="email">E-mail:</label>
            <input type="text" id="email" placeholder="exemplo@email.com">
        </div>

        <div class="campo">
            <label for="senha">Senha:</label>
            <input type="password" id="senha" placeholder="Min 8 chars, 1 nﾃｺmero">
        </div>

        <button id="btnCadastrar">Cadastrar</button>
    </form>

    <script>
        // 1. SELEﾃﾃグ DO DOM
        const inputNome = document.getElementById('nome');
        const inputEmail = document.getElementById('email');
        const inputSenha = document.getElementById('senha');
        const btn = document.getElementById('btnCadastrar');

        // 2. DEFINIﾃﾃグ DAS REGEX
        // ^[a-zA-Z\u00C0-\u00FF ]+$ -> Aceita letras (incluindo acentos) e espaﾃｧos
        const regexNome = /^[a-zA-Z\u00C0-\u00FF ]+$/; 
        
        // Padrﾃ｣o simples de email
        const regexEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; 
        
        // Lookahead para garantir 1 digito (?=.*\d) e min 8 chars .{8,}
        const regexSenha = /^(?=.*\d).{8,}$/; 

        // 3. FUNﾃﾃグ AUXILIAR (Para limpar/sujar o input)
        function validarCampo(input, regex) {
            if (regex.test(input.value)) {
                input.style.border = "2px solid green";
                return true;
            } else {
                input.style.border = "2px solid red";
                return false;
            }
        }

        // 4. EVENTO DE CLIQUE
        btn.addEventListener('click', function(event) {
            event.preventDefault(); // Impede o form de recarregar a pﾃ｡gina

            // Executa a validaﾃｧﾃ｣o para cada campo
            const nomeValido = validarCampo(inputNome, regexNome);
            const emailValido = validarCampo(inputEmail, regexEmail);
            const senhaValida = validarCampo(inputSenha, regexSenha);

            // Verifica se TODOS sﾃ｣o verdadeiros
            if (nomeValido && emailValido && senhaValida) {
                alert("Cadastro realizado com sucesso! 笨");
                // Aqui vocﾃｪ enviaria os dados para o backend
            } else {
                console.log("Existem campos invﾃ｡lidos. Corrija-os.");
            }
        });
    </script>

</body>
</html>

Explicaﾃｧﾃ｣o Passo a Passo (Para sua Revisﾃ｣o)

    Regex do Nome (/^[a-zA-Z\u00C0-\u00FF ]+$/):

        ^ e $: Garantem que a string inteira obedeﾃｧa ﾃ regra.

        a-zA-Z: Letras sem acento.

        \u00C0-\u00FF: (Opcional, mas impressiona na prova) Faixa Unicode que cobre acentos comuns (ﾃ｡, ﾃｩ, ﾃ｣, ﾃｧ, etc). Se sua prova for bﾃ｡sica, use apenas [a-zA-Z ]+.

        +: Permite nomes compostos ou longos (1 ou mais caracteres).

    Regex da Senha (/^(?=.*\d).{8,}$/):

        (?=.*\d): O Lookahead. Ele "olha para frente" para ver se existe algum dﾃｭgito (\d) em qualquer lugar, sem consumir caracteres.

        .{8,}: Depois de garantir que tem nﾃｺmero, ele verifica se o comprimento total ﾃｩ de 8 ou mais caracteres quaisquer.

    Lﾃｳgica do DOM:

        Criei uma funﾃｧﾃ｣o validarCampo para nﾃ｣o repetir o if/else trﾃｪs vezes. Isso mostra boas prﾃ｡ticas de programaﾃｧﾃ｣o (Clean Code) na prova.

        O event.preventDefault() ﾃｩ crucial. Sem ele, o botﾃ｣o dentro do <form> recarrega a pﾃ｡gina e vocﾃｪ nﾃ｣o vﾃｪ o resultado da validaﾃｧﾃ｣o.

Para criar um sistema de cadastro (Frontend) robusto para uma prova ou projeto, o segredo ﾃｩ combinar Regex (para garantir que os dados estﾃ｣o no formato certo) com DOM Events (para dar feedback visual ao usuﾃ｡rio enquanto ele digita).

Lembre-se: Regex valida o formato (se parece um email, se a senha ﾃｩ forte). Quem realmente cria o login e salva no banco de dados ﾃｩ o Backend (Java, Node.js, PHP, etc.).

Abaixo, apresento um exemplo completo de um formulﾃ｡rio de cadastro que valida:

    Usuﾃ｡rio: Mﾃｭnimo 3 letras.

    Email: Formato padrﾃ｣o.

    Senha Forte: Mﾃｭnimo 8 caracteres, 1 maiﾃｺscula, 1 minﾃｺscula, 1 nﾃｺmero e 1 caractere especial.

    Confirmaﾃｧﾃ｣o de Senha: Deve ser igual ﾃ senha.

O Cﾃｳdigo Completo (HTML + CSS + JS)

Pode copiar e salvar como um arquivo .html.
HTML

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Sistema de Cadastro com Regex</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f4f4f4; display: flex; justify-content: center; align-items: center; height: 100vh; }
        
        .container { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); width: 350px; }
        
        h2 { text-align: center; color: #333; }
        
        .grupo-input { margin-bottom: 15px; }
        
        label { display: block; margin-bottom: 5px; color: #666; font-size: 0.9em; }
        
        input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; outline: none; transition: 0.3s; }
        
        /* Classes que o JS vai adicionar */
        input.valido { border-color: #2ecc71; background-color: #eafaf1; }
        input.invalido { border-color: #e74c3c; background-color: #fdeaea; }
        
        /* Mensagem de erro pequena abaixo do input */
        .msg-erro { font-size: 0.75em; color: #e74c3c; display: none; margin-top: 5px; }
        
        button { width: 100%; padding: 10px; background-color: #333; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 1em; }
        button:disabled { background-color: #ccc; cursor: not-allowed; }
        button:hover:not(:disabled) { background-color: #555; }
    </style>
</head>
<body>

<div class="container">
    <h2>Criar Conta</h2>
    <form id="formCadastro">
        
        <div class="grupo-input">
            <label>Usuﾃ｡rio</label>
            <input type="text" id="usuario" placeholder="Mﾃｭnimo 3 caracteres">
            <span class="msg-erro">Nome deve ter no mﾃｭnimo 3 caracteres alfanumﾃｩricos.</span>
        </div>

        <div class="grupo-input">
            <label>Email</label>
            <input type="text" id="email" placeholder="seu@email.com">
            <span class="msg-erro">Digite um email vﾃ｡lido.</span>
        </div>

        <div class="grupo-input">
            <label>Senha</label>
            <input type="password" id="senha" placeholder="Senha forte">
            <span class="msg-erro">Mﾃｭn. 8 chars, 1 maiﾃｺscula, 1 nﾃｺmero, 1 sﾃｭmbolo.</span>
        </div>

        <div class="grupo-input">
            <label>Confirmar Senha</label>
            <input type="password" id="confirmaSenha" placeholder="Repita a senha">
            <span class="msg-erro">As senhas nﾃ｣o coincidem.</span>
        </div>

        <button type="submit" id="btnEnviar" disabled>Cadastrar</button>
    </form>
</div>

<script>
    // 1. SELEﾃﾃグ DE ELEMENTOS
    const form = document.getElementById('formCadastro');
    const inputs = document.querySelectorAll('input'); // Seleciona todos inputs
    const btnEnviar = document.getElementById('btnEnviar');

    // 2. OBJETO COM AS REGEX
    const patterns = {
        // Usuﾃ｡rio: letras/nﾃｺmeros, min 3, max 12
        usuario: /^[a-zA-Z0-9]{3,12}$/,
        
        // Email padrﾃ｣o
        email: /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/,
        
        // Senha Forte:
        // (?=.*[A-Z]) -> Pelo menos 1 Maiﾃｺscula
        // (?=.*[a-z]) -> Pelo menos 1 Minﾃｺscula
        // (?=.*\d)    -> Pelo menos 1 Nﾃｺmero
        // (?=.*[\W])  -> Pelo menos 1 Sﾃｭmbolo (\W = nﾃ｣o palavra)
        // .{8,}       -> Mﾃｭnimo 8 caracteres
        senha: /^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*\W).{8,}$/
    };

    // 3. FUNﾃﾃグ DE VALIDAﾃﾃグ GERAL
    function validar(field, regex) {
        // Se o teste passar, adiciona classe valido, senﾃ｣o invalido
        if (regex.test(field.value)) {
            field.className = 'valido';
            field.nextElementSibling.style.display = 'none'; // Esconde msg erro
            return true;
        } else {
            field.className = 'invalido';
            field.nextElementSibling.style.display = 'block'; // Mostra msg erro
            return false;
        }
    }

    // 4. FUNﾃﾃグ ESPECﾃ孝ICA PARA COMPARAR SENHAS
    function compararSenhas() {
        const senha = document.getElementById('senha');
        const confirma = document.getElementById('confirmaSenha');
        
        if (confirma.value === senha.value && confirma.value !== "") {
            confirma.className = 'valido';
            confirma.nextElementSibling.style.display = 'none';
            return true;
        } else {
            confirma.className = 'invalido';
            confirma.nextElementSibling.style.display = 'block';
            return false;
        }
    }

    // 5. EVENT LISTENERS (INPUT)
    // Adiciona evento 'input' em cada campo para validar enquanto digita
    inputs.forEach((input) => {
        input.addEventListener('input', (e) => {
            
            // Lﾃｳgica para saber qual campo estﾃ｡ sendo digitado
            if (e.target.id === 'confirmaSenha') {
                compararSenhas();
            } else if (patterns[e.target.id]) {
                // Chama a funﾃｧﾃ｣o validar passando o input e a regex correspondente
                validar(e.target, patterns[e.target.id]);
                
                // Se mexer na senha original, revalida a confirmaﾃｧﾃ｣o
                if (e.target.id === 'senha') compararSenhas(); 
            }
            
            checkFormularioValido();
        });
    });

    // 6. HABILITAR BOTﾃグ APENAS SE TUDO ESTIVER Vﾃ´IDO
    function checkFormularioValido() {
        // Verifica se existem elementos com a classe 'invalido' ou inputs vazios
        const invalidos = document.querySelectorAll('.invalido').length;
        const vazios = Array.from(inputs).some(i => i.value === "");
        
        // Se nﾃ｣o tiver invﾃ｡lidos nem vazios, habilita o botﾃ｣o
        if (invalidos === 0 && !vazios) {
            btnEnviar.disabled = false;
        } else {
            btnEnviar.disabled = true;
        }
    }

    // 7. ENVIO FINAL
    form.addEventListener('submit', (e) => {
        e.preventDefault();
        alert("Dados validados e prontos para envio ao servidor! 噫");
        // Aqui entraria seu cﾃｳdigo Java/Backend
    });

</script>

</body>
</html>

O que vocﾃｪ precisa saber para explicar isso em uma prova:

    O Evento input:

        Diferente do change (que sﾃｳ dispara quando vocﾃｪ clica fora do campo) ou submit (sﾃｳ no final), o input dispara a cada tecla pressionada. Isso permite validaﾃｧﾃ｣o em tempo real (UX moderna).

    Lookahead na Senha ((?=...)):

        Este ﾃｩ o conceito mais avanﾃｧado do cﾃｳdigo.

        (?=.*[A-Z]): Significa "Verifique se, em algum lugar ﾃ frente, existe uma letra maiﾃｺscula". Ele faz a verificaﾃｧﾃ｣o sem "gastar" os caracteres, permitindo que vocﾃｪ faﾃｧa vﾃ｡rias verificaﾃｧﾃｵes na mesma string.

    Validaﾃｧﾃ｣o Cruzada:

        O campo "Confirmar Senha" nﾃ｣o usa Regex. Ele usa lﾃｳgica de comparaﾃｧﾃ｣o simples (===). Note que no cﾃｳdigo, se o usuﾃ｡rio alterar a "Senha" principal depois de ter digitado a confirmaﾃｧﾃ｣o, eu forﾃｧo a revalidaﾃｧﾃ｣o da confirmaﾃｧﾃ｣o para evitar erros.

    Classes CSS (classList ou className):

        Em vez de manipular style.border diretamente no JS o tempo todo, eu troco a classe (valido ou invalido). Isso deixa o JS mais limpo e o design no CSS.


